var PollWidget=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function i(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function c(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}u((r=r.apply(t,e||[])).next())}))}function o(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}function s(t,e){t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]],e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]];var n=[0,0,0,0];return n[3]+=t[3]+e[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=t[2]+e[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=t[1]+e[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=t[0]+e[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function c(t,e){t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]],e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]];var n=[0,0,0,0];return n[3]+=t[3]*e[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=t[2]*e[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=t[3]*e[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=t[1]*e[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=t[2]*e[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=t[3]*e[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=t[0]*e[3]+t[1]*e[2]+t[2]*e[1]+t[3]*e[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function u(t,e){return 32==(e%=64)?[t[1],t[0]]:e<32?[t[0]<<e|t[1]>>>32-e,t[1]<<e|t[0]>>>32-e]:(e-=32,[t[1]<<e|t[0]>>>32-e,t[0]<<e|t[1]>>>32-e])}function a(t,e){return 0==(e%=64)?t:e<32?[t[0]<<e|t[1]>>>32-e,t[1]<<e]:[t[1]<<e-32,0]}function l(t,e){return[t[0]^e[0],t[1]^e[1]]}function h(t){return t=l(t,[0,t[0]>>>1]),t=l(t=c(t,[4283543511,3981806797]),[0,t[0]>>>1]),l(t=c(t,[3301882366,444984403]),[0,t[0]>>>1])}Object.create,Object.create;var f=window;function d(t){return parseInt(t)}function p(t){return parseFloat(t)}function v(t){return t.reduce((function(t,e){return t+(e?1:0)}),0)}var y=window,b=navigator;function g(){return v(["MSCSSMatrix"in y,"msSetImmediate"in y,"msIndexedDB"in y,"msMaxTouchPoints"in b,"msPointerEnabled"in b])>=4}document;var w=window,m=document;function S(t,e,n){(function(t){return t&&"function"==typeof t.setValueAtTime})(e)&&e.setValueAtTime(n,t.currentTime)}function E(t){return new Promise((function(e,n){t.oncomplete=function(t){return e(t.renderedBuffer)};var r=3,i=function(){switch(t.startRendering(),t.state){case"running":setTimeout((function(){return n(C("timeout"))}),1e3);break;case"suspended":m.hidden||r--,r>0?setTimeout(i,500):n(C("suspended"))}};i()}))}function _(t){for(var e=0,n=4500;n<5e3;++n)e+=Math.abs(t[n]);return e}function C(t){var e=new Error(t);return e.name=t,e}var M=document,x=["monospace","sans-serif","serif"],O=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"],P={fontStyle:"normal",fontWeight:"normal",letterSpacing:"normal",lineBreak:"auto",lineHeight:"normal",textTransform:"none",textAlign:"left",textDecoration:"none",textShadow:"none",whiteSpace:"normal",wordBreak:"normal",wordSpacing:"normal",position:"absolute",left:"-9999px",fontSize:"48px"};function A(t){return t.toDataURL()}var T=navigator,k=window,I=navigator,L=window,D=window,B=window,N=document,j={osCpu:function(){return navigator.oscpu},languages:function(){var t=[],e=I.language||I.userLanguage||I.browserLanguage||I.systemLanguage;if(void 0!==e&&t.push([e]),Array.isArray(I.languages))v(["webkitPersistentStorage"in b,"webkitTemporaryStorage"in b,0===b.vendor.indexOf("Google"),"webkitResolveLocalFileSystemURL"in y,"BatteryManager"in y,"webkitMediaStream"in y,"webkitSpeechGrammar"in y])>=5&&v([!("MediaSettingsRange"in y),"RTCEncodedAudioFrame"in y,""+y.Intl=="[object Intl]",""+y.Reflect=="[object Reflect]"])>=3||t.push(I.languages);else if("string"==typeof I.languages){var n=I.languages;n&&t.push(n.split(","))}return t},colorDepth:function(){return window.screen.colorDepth},deviceMemory:function(){return void 0,"number"==typeof(t=p(navigator.deviceMemory))&&isNaN(t)?void 0:t;var t},screenResolution:function(){var t=[d(L.screen.width),d(L.screen.height)];return t.sort().reverse(),t},availableScreenResolution:function(){if(D.screen.availWidth&&D.screen.availHeight){var t=[d(D.screen.availWidth),d(D.screen.availHeight)];return t.sort().reverse(),t}},hardwareConcurrency:function(){try{var t=d(navigator.hardwareConcurrency);return isNaN(t)?1:t}catch(t){return 1}},timezoneOffset:function(){var t=(new Date).getFullYear();return Math.max(p(new Date(t,0,1).getTimezoneOffset()),p(new Date(t,6,1).getTimezoneOffset()))},timezone:function(){var t;if(null===(t=B.Intl)||void 0===t?void 0:t.DateTimeFormat)return(new B.Intl.DateTimeFormat).resolvedOptions().timeZone},sessionStorage:function(){try{return!!window.sessionStorage}catch(t){return!0}},localStorage:function(){try{return!!window.localStorage}catch(t){return!0}},indexedDB:function(){if(!(g()||v(["msWriteProfilerMark"in y,"MSStream"in y,"msLaunchUri"in b,"msSaveBlob"in b])>=3&&!g()))try{return!!window.indexedDB}catch(t){return!0}},openDatabase:function(){return!!window.openDatabase},cpuClass:function(){return navigator.cpuClass},platform:function(){return navigator.platform},plugins:function(){if(g())return[];if(navigator.plugins){for(var t=[],e=0;e<navigator.plugins.length;++e){var n=navigator.plugins[e];if(n){for(var r=[],i=0;i<n.length;++i){var o=n[i];r.push({type:o.type,suffixes:o.suffixes})}t.push({name:n.name,description:n.description,mimeTypes:r})}}return t}},canvas:function(){var t=function(){var t=document.createElement("canvas");return t.width=240,t.height=140,t.style.display="inline",[t,t.getContext("2d")]}(),e=t[0],n=t[1];if(!function(t,e){return!(!e||!t.toDataURL)}(e,n))return{winding:!1,data:""};n.rect(0,0,10,10),n.rect(2,2,6,6);var r=!n.isPointInPath(5,5,"evenodd");return n.textBaseline="alphabetic",n.fillStyle="#f60",n.fillRect(125,1,62,20),n.fillStyle="#069",n.font="11pt no-real-font-123",n.fillText("Cwm fjordbank ðŸ˜ƒ gly",2,15),n.fillStyle="rgba(102, 204, 0, 0.2)",n.font="18pt Arial",n.fillText("Cwm fjordbank ðŸ˜ƒ gly",4,45),n.globalCompositeOperation="multiply",n.fillStyle="rgb(255,0,255)",n.beginPath(),n.arc(50,50,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(0,255,255)",n.beginPath(),n.arc(100,50,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(255,255,0)",n.beginPath(),n.arc(75,100,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(255,0,255)",n.arc(75,75,75,0,2*Math.PI,!0),n.arc(75,75,25,0,2*Math.PI,!0),n.fill("evenodd"),{winding:r,data:A(e)}},touchSupport:function(){var t,e=0;void 0!==T.maxTouchPoints?e=d(T.maxTouchPoints):void 0!==T.msMaxTouchPoints&&(e=T.msMaxTouchPoints);try{document.createEvent("TouchEvent"),t=!0}catch(e){t=!1}return{maxTouchPoints:e,touchEvent:t,touchStart:"ontouchstart"in k}},fonts:function(){var t=M.body,e=M.createElement("div"),n=M.createElement("div"),r={},i={},o=function(){var t=M.createElement("span");t.textContent="mmMwWLliI0O&1";for(var e=0,n=Object.keys(P);e<n.length;e++){var r=n[e];t.style[r]=P[r]}return t},s=function(t){return x.some((function(e,n){return t[n].offsetWidth!==r[e]||t[n].offsetHeight!==i[e]}))},c=x.map((function(t){var n=o();return n.style.fontFamily=t,e.appendChild(n),n}));t.appendChild(e);for(var u=0,a=x.length;u<a;u++)r[x[u]]=c[u].offsetWidth,i[x[u]]=c[u].offsetHeight;var l=function(){for(var t={},e=function(e){t[e]=x.map((function(t){var r=function(t,e){var n=o();return n.style.fontFamily="'"+t+"',"+e,n}(e,t);return n.appendChild(r),r}))},r=0,i=O;r<i.length;r++)e(i[r]);return t}();t.appendChild(n);for(var h=[],f=0,d=O.length;f<d;f++)s(l[O[f]])&&h.push(O[f]);return t.removeChild(n),t.removeChild(e),h},audio:function(){return i(this,void 0,void 0,(function(){var t,e,n,r,i,s;return o(this,(function(o){switch(o.label){case 0:if(!(t=w.OfflineAudioContext||w.webkitOfflineAudioContext))return[2,-2];if(v(["ApplePayError"in y,"CSSPrimitiveValue"in y,"Counter"in y,0===b.vendor.indexOf("Apple"),"getStorageUpdates"in b,"WebKitMediaKeys"in y])>=4&&!(v(["safari"in y,!("DeviceMotionEvent"in y),!("ongestureend"in y),!("standalone"in b)])>=3)&&!(v(["DOMRectList"in y,"RTCPeerConnectionIceEvent"in y,"SVGGeometryElement"in y,"ontransitioncancel"in y])>=3))return[2,-1];e=new t(1,44100,44100),(n=e.createOscillator()).type="triangle",S(e,n.frequency,1e4),r=e.createDynamicsCompressor(),S(e,r.threshold,-50),S(e,r.knee,40),S(e,r.ratio,12),S(e,r.reduction,-20),S(e,r.attack,0),S(e,r.release,.25),n.connect(r),r.connect(e.destination),n.start(0),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,E(e)];case 2:return i=o.sent(),[3,5];case 3:if("timeout"===(s=o.sent()).name||"suspended"===s.name)return[2,-3];throw s;case 4:return n.disconnect(),r.disconnect(),[7];case 5:return[2,_(i.getChannelData(0))]}}))}))},pluginsSupport:function(){return void 0!==navigator.plugins},productSub:function(){return navigator.productSub},emptyEvalLength:function(){return eval.toString().length},errorFF:function(){try{throw"a"}catch(t){try{return t.toSource(),!0}catch(t){return!1}}},vendor:function(){return navigator.vendor},chrome:function(){return void 0!==window.chrome},cookiesEnabled:function(){try{N.cookie="cookietest=1; SameSite=Strict;";var t=-1!==N.cookie.indexOf("cookietest=");return N.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}catch(t){return!1}}};function H(){return function(t,e,n){return i(this,void 0,void 0,(function(){var e,i,s,c,u,a,l,h,f;return o(this,(function(o){switch(o.label){case 0:e=Date.now(),i={},s=0,c=Object.keys(t),o.label=1;case 1:if(!(s<c.length))return[3,7];if(u=c[s],function(t,e){for(var n=0,r=t.length;n<r;++n)if(t[n]===e)return!0;return!1}(n,u))return[3,6];a=void 0,o.label=2;case 2:return o.trys.push([2,4,,5]),f={},[4,t[u](void 0)];case 3:return f.value=o.sent(),a=f,[3,5];case 4:return l=o.sent(),a=l&&"object"==typeof l&&"message"in l?{error:l}:{error:{message:l}},[3,5];case 5:h=Date.now(),i[u]=r(r({},a),{duration:h-e}),e=h,o.label=6;case 6:return s++,[3,1];case 7:return[2,i]}}))}))}(j,0,[])}function R(t){return JSON.stringify(t,(function(t,e){return e instanceof Error?r({name:(n=e).name,message:n.message,stack:null===(i=n.stack)||void 0===i?void 0:i.split("\n")},n):e;var n,i}),2)}function F(t){return function(t,e){e=e||0;var n,r=(t=t||"").length%16,i=t.length-r,o=[0,e],f=[0,e],d=[0,0],p=[0,0],v=[2277735313,289559509],y=[1291169091,658871167];for(n=0;n<i;n+=16)d=[255&t.charCodeAt(n+4)|(255&t.charCodeAt(n+5))<<8|(255&t.charCodeAt(n+6))<<16|(255&t.charCodeAt(n+7))<<24,255&t.charCodeAt(n)|(255&t.charCodeAt(n+1))<<8|(255&t.charCodeAt(n+2))<<16|(255&t.charCodeAt(n+3))<<24],p=[255&t.charCodeAt(n+12)|(255&t.charCodeAt(n+13))<<8|(255&t.charCodeAt(n+14))<<16|(255&t.charCodeAt(n+15))<<24,255&t.charCodeAt(n+8)|(255&t.charCodeAt(n+9))<<8|(255&t.charCodeAt(n+10))<<16|(255&t.charCodeAt(n+11))<<24],d=u(d=c(d,v),31),o=s(o=u(o=l(o,d=c(d,y)),27),f),o=s(c(o,[0,5]),[0,1390208809]),p=u(p=c(p,y),33),f=s(f=u(f=l(f,p=c(p,v)),31),o),f=s(c(f,[0,5]),[0,944331445]);switch(d=[0,0],p=[0,0],r){case 15:p=l(p,a([0,t.charCodeAt(n+14)],48));case 14:p=l(p,a([0,t.charCodeAt(n+13)],40));case 13:p=l(p,a([0,t.charCodeAt(n+12)],32));case 12:p=l(p,a([0,t.charCodeAt(n+11)],24));case 11:p=l(p,a([0,t.charCodeAt(n+10)],16));case 10:p=l(p,a([0,t.charCodeAt(n+9)],8));case 9:p=c(p=l(p,[0,t.charCodeAt(n+8)]),y),f=l(f,p=c(p=u(p,33),v));case 8:d=l(d,a([0,t.charCodeAt(n+7)],56));case 7:d=l(d,a([0,t.charCodeAt(n+6)],48));case 6:d=l(d,a([0,t.charCodeAt(n+5)],40));case 5:d=l(d,a([0,t.charCodeAt(n+4)],32));case 4:d=l(d,a([0,t.charCodeAt(n+3)],24));case 3:d=l(d,a([0,t.charCodeAt(n+2)],16));case 2:d=l(d,a([0,t.charCodeAt(n+1)],8));case 1:d=c(d=l(d,[0,t.charCodeAt(n)]),v),o=l(o,d=c(d=u(d,31),y))}return o=s(o=l(o,[0,t.length]),f=l(f,[0,t.length])),f=s(f,o),o=s(o=h(o),f=h(f)),f=s(f,o),("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)+("00000000"+(f[0]>>>0).toString(16)).slice(-8)+("00000000"+(f[1]>>>0).toString(16)).slice(-8)}(function(t){for(var e="",n=0,r=Object.keys(t);n<r.length;n++){var i=r[n],o=t[i],s=o.error?"error":JSON.stringify(o.value);e+=(e?"|":"")+i.replace(/([:|\\])/g,"\\$1")+":"+s}return e}(t))}var U=function(){function t(){}return t.prototype.get=function(t){return void 0===t&&(t={}),i(this,void 0,void 0,(function(){var e,n;return o(this,(function(r){switch(r.label){case 0:return[4,H()];case 1:return e=r.sent(),n=function(t){var e;return{components:t,get visitorId(){return void 0===e&&(e=F(this.components)),e},set visitorId(t){e=t}}}(e),t.debug&&console.log("Copy the text below to get the debug data:\n\n```\nversion: 3.0.5\nuserAgent: "+navigator.userAgent+"\ngetOptions: "+JSON.stringify(t,void 0,2)+"\nvisitorId: "+n.visitorId+"\ncomponents: "+R(e)+"\n```"),[2,n]}}))}))},t}(),V={load:function(t){var e=(void 0===t?{}:t).delayFallback,n=void 0===e?50:e;return i(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,(e=n,r=2*n,void 0===r&&(r=1/0),new Promise((function(t){f.requestIdleCallback?f.requestIdleCallback((function(){return t()}),{timeout:r}):setTimeout(t,Math.min(e,r))})))];case 1:return t.sent(),[2,new U]}var e,r}))}))},hashComponents:F,componentsToDebugString:R};function G(t){return t&&"function"==typeof t.schedule}
/*! *****************************************************************************
        Copyright (c) Microsoft Corporation.
        
        Permission to use, copy, modify, and/or distribute this software for any
        purpose with or without fee is hereby granted.
        
        THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
        REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
        AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
        INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
        LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
        OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
        PERFORMANCE OF THIS SOFTWARE.
        ***************************************************************************** */var W=function(t,e){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Q(t,e){function n(){this.constructor=t}W(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function q(t){return"function"==typeof t}var z=!1,J={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack,z=t},get useDeprecatedSynchronousErrorHandling(){return z}};function K(t){setTimeout((function(){throw t}),0)}var Y={closed:!0,next:function(t){},error:function(t){if(J.useDeprecatedSynchronousErrorHandling)throw t;K(t)},complete:function(){}},Z=Array.isArray||function(t){return t&&"number"==typeof t.length},$=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),X=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n,r=this._parentOrParents,i=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof t)r.remove(this);else if(null!==r)for(var s=0;s<r.length;++s)r[s].remove(this);if(q(i))try{i.call(this)}catch(t){e=t instanceof $?tt(t.errors):[t]}if(Z(o)){s=-1;for(var c=o.length;++s<c;){var u=o[s];if(null!==(n=u)&&"object"==typeof n)try{u.unsubscribe()}catch(t){e=e||[],t instanceof $?e=e.concat(tt(t.errors)):e.push(t)}}}if(e)throw new $(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function tt(t){return t.reduce((function(t,e){return t.concat(e instanceof $?e.errors:e)}),[])}var et="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),nt=function(t){function e(n,r,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=Y;break;case 1:if(!n){o.destination=Y;break}if("object"==typeof n){n instanceof e?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new rt(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new rt(o,n,r,i)}return o}return Q(e,t),e.prototype[et]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(X),rt=function(t){function e(e,n,r,i){var o,s=t.call(this)||this;s._parentSubscriber=e;var c=s;return q(n)?o=n:n&&(o=n.next,r=n.error,i=n.complete,n!==Y&&(q((c=Object.create(n)).unsubscribe)&&s.add(c.unsubscribe.bind(c)),c.unsubscribe=s.unsubscribe.bind(s))),s._context=c,s._next=o,s._error=r,s._complete=i,s}return Q(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;J.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=J.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):K(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;K(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};J.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),J.useDeprecatedSynchronousErrorHandling)throw t;K(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!J.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return J.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(K(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(nt),it="function"==typeof Symbol&&Symbol.observable||"@@observable";function ot(t){return t}function st(t){return 0===t.length?ot:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var ct=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof nt)return t;if(t[et])return t[et]()}return t||e||n?new nt(t,e,n):new nt(Y)}(t,e,n);if(r?i.add(r.call(i,this.source)):i.add(this.source||J.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),J.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){J.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;t=r&&r instanceof nt?r:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=ut(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(t){r(t),i&&i.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[it]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:st(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=ut(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function ut(t){if(t||(t=J.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function at(t,e){return new ct((function(n){var r=new X,i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function lt(t,e){return e?at(t,e):new ct((n=t,function(t){for(var e=0,r=n.length;e<r&&!t.closed;e++)t.next(n[e]);t.complete()}));var n}function ht(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return G(n)?(t.pop(),at(t,n)):lt(t)}var ft,dt=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return Q(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return Q(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(X)),pt=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),vt=new(function(t){function e(n,r){void 0===r&&(r=pt.now);var i=t.call(this,n,(function(){return e.delegate&&e.delegate!==i?e.delegate.now():r()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return Q(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(pt))(dt),yt=new ct((function(t){return t.complete()}));ft||(ft={});var bt=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){var t;switch(this.kind){case"N":return ht(this.value);case"E":return t=this.error,new ct((function(e){return e.error(t)}));case"C":return function(t){return t?function(t){return new ct((function(e){return t.schedule((function(){return e.complete()}))}))}(t):yt}()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();var gt=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new wt(t,this.delay,this.scheduler))},t}(),wt=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.delay=n,i.scheduler=r,i.queue=[],i.active=!1,i.errored=!1,i}return Q(e,t),e.dispatch=function(t){for(var e=t.source,n=e.queue,r=t.scheduler,i=t.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.destination.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,n=new mt(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(bt.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(bt.createComplete()),this.unsubscribe()},e}(nt),mt=function(t,e){this.time=t,this.notification=e},St=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Et(t,this.predicate,this.thisArg))},t}(),Et=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return Q(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(nt);function _t(t,e){return{succeeded:!1,message:"Failed to load the script "+t,error:e}}var Ct=function(){return(Ct=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};new(function(){function t(t,e,n){this.widgetOptions=t,this.userContext=e,this.browserInfo=n}return Object.defineProperty(t.prototype,"frameEl",{get:function(){return document.getElementById("tnps-frame")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeButtonEl",{get:function(){return document.getElementById("tnps-close")},enumerable:!0,configurable:!0}),t.prototype.main=function(){var t=this;V.load().then((function(e){e.get().then((function(e){var n=e.visitorId;return t.loadSDK(n)}))}))},t.prototype.loadSDK=function(t){var e=this;(function(t){var e=t.src,n=t.async,r=void 0===n||n,i=t.type,o=void 0===i?"text/javascript":i;return new Promise((function(t,n){try{var i=document.head||document.body,s=function(t,e,n){var r=document.createElement("script");return r.type=n,r.async=e,r.src=t,r}(e,r,o);s.addEventListener("load",(function(){return t({succeeded:!0})})),s.addEventListener("error",(function(){return n(_t(e))})),i.appendChild(s)}catch(t){n(_t(e,t))}}))})({src:this.widgetOptions.tnpsScriptSrcUrl}).then((function(n){n.succeeded&&e.initialize(t)}))},t.prototype.initialize=function(t){var e,n=this;this.startPoll(t),this.widgetOptions.startDelayMs>-1&&ht(this.widgetOptions.eventId).pipe(function(t,e){void 0===e&&(e=vt);var n,r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return function(t){return t.lift(new gt(r,e))}}(this.widgetOptions.startDelayMs)).subscribe((function(t){n.register(t)})),this.userContext.externalUser$.pipe((e=function(t){return t&&!t.isFetching&&!!t.phone},function(t){return t.lift(new St(e,void 0))})).subscribe((function(t){var e="7"+t.phone;t.isMain?window.tNPS.setCurrentMsisdnMain(e):window.tNPS.setCurrentMsisdnSlave(e)})),this.windowMessageEventListener=this.closePoll.bind(this),window.addEventListener("message",this.windowMessageEventListener,!1),this.closeButtonClickEventListener=function(){return n.toggleContainer()},this.closeButtonEl.addEventListener("click",this.closeButtonClickEventListener)},t.prototype.startPoll=function(t){var e=this;window.tNPS.start((function(t){return e.openContainer(t)}),Ct({},this.getMeta(),{token:t}))},t.prototype.register=function(t){window.tNPS.registerEvent(t)},t.prototype.getMeta=function(){return{appId:this.widgetOptions.appId,operatingSystem:this.browserInfo.getOSName(),operatingSystemVersion:this.browserInfo.getOSVersion(),appVersion:"web",url:window.location.href,token:null,msisdnMain:null,msisdnSlave:null}},t.prototype.openContainer=function(t){var e,n,r=this;this.isMobileMediaQuery=window.matchMedia("(max-width: 575px)"),this.isMobileMediaQueryListener=function(t){return r.setFrameHeight(t.matches)},e=this.isMobileMediaQuery,n=this.isMobileMediaQueryListener,e.addEventListener?e.addEventListener("change",n):e.addListener(n),this.setFrameHeight(this.isMobileMediaQuery.matches),this.toggleContainer(t)},t.prototype.toggleContainer=function(t){this.frameEl.src=t,document.getElementById("tnps-container").style.display=t?"block":"none",t||this.clearEventListeners()},t.prototype.closePoll=function(t){"pollPlayerClose"===t.data&&this.toggleContainer()},t.prototype.setFrameHeight=function(t){this.frameEl.style.height=t?"":this.widgetOptions.popupHeightPx+"px"},t.prototype.clearEventListeners=function(){var t,e;this.isMobileMediaQuery&&(t=this.isMobileMediaQuery,e=this.isMobileMediaQueryListener,t.removeEventListener?t.removeEventListener("change",e):t.removeListener(e),this.isMobileMediaQuery=null,this.isMobileMediaQueryListener=null),this.windowMessageEventListener&&(window.removeEventListener("message",this.windowMessageEventListener),this.windowMessageEventListener=null),this.closeButtonClickEventListener&&(this.closeButtonEl.removeEventListener("click",this.closeButtonClickEventListener),this.closeButtonClickEventListener=null)},t}())(window.globalSettings.pollWidget,window.userContextInstance,window.browserInfo).main()}]);