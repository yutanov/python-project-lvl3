var SSPBanner=function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(t,e,r){t.exports=function(){"use strict";
/*!
               * mustache.js - Logic-less {{mustache}} templates with JavaScript
               * http://github.com/janl/mustache.js
               */var t=Object.prototype.toString,e=Array.isArray||function(e){return"[object Array]"===t.call(e)};function r(t){return"function"==typeof t}function n(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(t,e){return null!=t&&"object"==typeof t&&e in t}var o=RegExp.prototype.test,s=/\S/;function a(t){return!function(t,e){return o.call(t,e)}(s,t)}var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},u=/\s*/,l=/\s+/,p=/\s*=/,h=/\s*\}/,f=/#|\^|\/|>|\{|&|=|!/;function d(t){this.string=t,this.tail=t,this.pos=0}function b(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function y(){this.templateCache={_cache:{},set:function(t,e){this._cache[t]=e},get:function(t){return this._cache[t]},clear:function(){this._cache={}}}}d.prototype.eos=function(){return""===this.tail},d.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var r=e[0];return this.tail=this.tail.substring(r.length),this.pos+=r.length,r},d.prototype.scanUntil=function(t){var e,r=this.tail.search(t);switch(r){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,r),this.tail=this.tail.substring(r)}return this.pos+=e.length,e},b.prototype.push=function(t){return new b(t,this)},b.prototype.lookup=function(t){var e,n,o,s=this.cache;if(s.hasOwnProperty(t))e=s[t];else{for(var a,c,u,l=this,p=!1;l;){if(t.indexOf(".")>0)for(a=l.view,c=t.split("."),u=0;null!=a&&u<c.length;)u===c.length-1&&(p=i(a,c[u])||(n=a,o=c[u],null!=n&&"object"!=typeof n&&n.hasOwnProperty&&n.hasOwnProperty(o))),a=a[c[u++]];else a=l.view[t],p=i(l.view,t);if(p){e=a;break}l=l.parent}s[t]=e}return r(e)&&(e=e.call(this.view)),e},y.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},y.prototype.parse=function(t,r){var i=this.templateCache,o=t+":"+(r||g.tags).join(":"),s=void 0!==i,c=s?i.get(o):void 0;return null==c&&(c=function(t,r){if(!t)return[];var i,o,s,c=!1,b=[],y=[],v=[],m=!1,_=!1,w="",S=0;function E(){if(m&&!_)for(;v.length;)delete y[v.pop()];else v=[];m=!1,_=!1}function T(t){if("string"==typeof t&&(t=t.split(l,2)),!e(t)||2!==t.length)throw new Error("Invalid tags: "+t);i=new RegExp(n(t[0])+"\\s*"),o=new RegExp("\\s*"+n(t[1])),s=new RegExp("\\s*"+n("}"+t[1]))}T(r||g.tags);for(var x,O,I,k,P,C,j=new d(t);!j.eos();){if(x=j.pos,I=j.scanUntil(i))for(var B=0,H=I.length;B<H;++B)a(k=I.charAt(B))?(v.push(y.length),w+=k):(_=!0,c=!0,w+=" "),y.push(["text",k,x,x+1]),x+=1,"\n"===k&&(E(),w="",S=0,c=!1);if(!j.scan(i))break;if(m=!0,O=j.scan(f)||"name",j.scan(u),"="===O?(I=j.scanUntil(p),j.scan(p),j.scanUntil(o)):"{"===O?(I=j.scanUntil(s),j.scan(h),j.scanUntil(o),O="&"):I=j.scanUntil(o),!j.scan(o))throw new Error("Unclosed tag at "+j.pos);if(P=">"==O?[O,I,x,j.pos,w,S,c]:[O,I,x,j.pos],S++,y.push(P),"#"===O||"^"===O)b.push(P);else if("/"===O){if(!(C=b.pop()))throw new Error('Unopened section "'+I+'" at '+x);if(C[1]!==I)throw new Error('Unclosed section "'+C[1]+'" at '+x)}else"name"===O||"{"===O||"&"===O?_=!0:"="===O&&T(I)}if(E(),C=b.pop())throw new Error('Unclosed section "'+C[1]+'" at '+j.pos);return function(t){for(var e,r=[],n=r,i=[],o=0,s=t.length;o<s;++o)switch((e=t[o])[0]){case"#":case"^":n.push(e),i.push(e),n=e[4]=[];break;case"/":i.pop()[5]=e[2],n=i.length>0?i[i.length-1][4]:r;break;default:n.push(e)}return r}(function(t){for(var e,r,n=[],i=0,o=t.length;i<o;++i)(e=t[i])&&("text"===e[0]&&r&&"text"===r[0]?(r[1]+=e[1],r[3]=e[3]):(n.push(e),r=e));return n}(y))}(t,r),s&&i.set(o,c)),c},y.prototype.render=function(t,e,r,n){var i=this.parse(t,n),o=e instanceof b?e:new b(e,void 0);return this.renderTokens(i,o,r,t,n)},y.prototype.renderTokens=function(t,e,r,n,i){for(var o,s,a,c="",u=0,l=t.length;u<l;++u)a=void 0,"#"===(s=(o=t[u])[0])?a=this.renderSection(o,e,r,n):"^"===s?a=this.renderInverted(o,e,r,n):">"===s?a=this.renderPartial(o,e,r,i):"&"===s?a=this.unescapedValue(o,e):"name"===s?a=this.escapedValue(o,e):"text"===s&&(a=this.rawValue(o)),void 0!==a&&(c+=a);return c},y.prototype.renderSection=function(t,n,i,o){var s=this,a="",c=n.lookup(t[1]);if(c){if(e(c))for(var u=0,l=c.length;u<l;++u)a+=this.renderTokens(t[4],n.push(c[u]),i,o);else if("object"==typeof c||"string"==typeof c||"number"==typeof c)a+=this.renderTokens(t[4],n.push(c),i,o);else if(r(c)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");null!=(c=c.call(n.view,o.slice(t[3],t[5]),(function(t){return s.render(t,n,i)})))&&(a+=c)}else a+=this.renderTokens(t[4],n,i,o);return a}},y.prototype.renderInverted=function(t,r,n,i){var o=r.lookup(t[1]);if(!o||e(o)&&0===o.length)return this.renderTokens(t[4],r,n,i)},y.prototype.indentPartial=function(t,e,r){for(var n=e.replace(/[^ \t]/g,""),i=t.split("\n"),o=0;o<i.length;o++)i[o].length&&(o>0||!r)&&(i[o]=n+i[o]);return i.join("\n")},y.prototype.renderPartial=function(t,e,n,i){if(n){var o=r(n)?n(t[1]):n[t[1]];if(null!=o){var s=t[6],a=t[5],c=t[4],u=o;return 0==a&&c&&(u=this.indentPartial(o,c,s)),this.renderTokens(this.parse(u,i),e,n,u,i)}}},y.prototype.unescapedValue=function(t,e){var r=e.lookup(t[1]);if(null!=r)return r},y.prototype.escapedValue=function(t,e){var r=e.lookup(t[1]);if(null!=r)return g.escape(r)},y.prototype.rawValue=function(t){return t[1]};var g={name:"mustache.js",version:"4.0.1",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(t){v.templateCache=t},get templateCache(){return v.templateCache}},v=new y;return g.clearCache=function(){return v.clearCache()},g.parse=function(t,e){return v.parse(t,e)},g.render=function(t,r,n,i){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+(e(o=t)?"array":typeof o)+'" was given as the first argument for mustache#render(template, view, partials)');var o;return v.render(t,r,n,i)},g.escape=function(t){return String(t).replace(/[&<>"'`=\/]/g,(function(t){return c[t]}))},g.Scanner=d,g.Context=b,g.Writer=y,g}()},function(t,e,r){"use strict";r.r(e);var n=r(0),i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};
/*! *****************************************************************************
        Copyright (c) Microsoft Corporation.
        
        Permission to use, copy, modify, and/or distribute this software for any
        purpose with or without fee is hereby granted.
        
        THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
        REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
        AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
        INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
        LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
        OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
        PERFORMANCE OF THIS SOFTWARE.
        ***************************************************************************** */function o(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function s(t){return"function"==typeof t}var a=!1,c={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack,a=t},get useDeprecatedSynchronousErrorHandling(){return a}};function u(t){setTimeout((function(){throw t}),0)}var l={closed:!0,next:function(t){},error:function(t){if(c.useDeprecatedSynchronousErrorHandling)throw t;u(t)},complete:function(){}},p=Array.isArray||function(t){return t&&"number"==typeof t.length},h=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),f=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r,n=this._parentOrParents,i=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var a=0;a<n.length;++a)n[a].remove(this);if(s(i))try{i.call(this)}catch(t){e=t instanceof h?d(t.errors):[t]}if(p(o)){a=-1;for(var c=o.length;++a<c;){var u=o[a];if(null!==(r=u)&&"object"==typeof r)try{u.unsubscribe()}catch(t){e=e||[],t instanceof h?e=e.concat(d(t.errors)):e.push(t)}}}if(e)throw new h(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;(r=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(null===i)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return r;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[r]:o.push(r),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function d(t){return t.reduce((function(t,e){return t.concat(e instanceof h?e.errors:e)}),[])}var b="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),y=function(t){function e(r,n,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=l;break;case 1:if(!r){o.destination=l;break}if("object"==typeof r){r instanceof e?(o.syncErrorThrowable=r.syncErrorThrowable,o.destination=r,r.add(o)):(o.syncErrorThrowable=!0,o.destination=new g(o,r));break}default:o.syncErrorThrowable=!0,o.destination=new g(o,r,n,i)}return o}return o(e,t),e.prototype[b]=function(){return this},e.create=function(t,r,n){var i=new e(t,r,n);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(f),g=function(t){function e(e,r,n,i){var o,a=t.call(this)||this;a._parentSubscriber=e;var c=a;return s(r)?o=r:r&&(o=r.next,n=r.error,i=r.complete,r!==l&&(s((c=Object.create(r)).unsubscribe)&&a.add(c.unsubscribe.bind(c)),c.unsubscribe=a.unsubscribe.bind(a))),a._context=c,a._next=o,a._error=n,a._complete=i,a}return o(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;c.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,r=c.useDeprecatedSynchronousErrorHandling;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):u(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;u(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};c.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),c.useDeprecatedSynchronousErrorHandling)throw t;u(t)}},e.prototype.__tryOrSetError=function(t,e,r){if(!c.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(e){return c.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(u(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(y),v=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new m(t,this.predicate,this.thisArg))},t}(),m=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.predicate=r,i.thisArg=n,i.count=0,i}return o(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(y),_=function(t){this.Items=t},w=function(t,e){this.InputData=e,this.Banners=t},S=function(){function t(t){this.options=t,this.baseUrl=this.options.baseUrl,this.timeout=this.options.timeout}return t.prototype.getBanner=function(t){return this.sendRequest(t,this.baseUrl+"/teaser",this.timeout)},t.prototype.sendRequest=function(t,e,r){return $.ajax({url:e,method:"POST",contentType:"application/json;charset=utf-8",data:JSON.stringify(t),type:"JSON",timeout:r,xhrFields:{withCredentials:!0}})},t}(),E=function(){function t(t){var e,r=this;this.isInited=!1,this.collections=[],this.templateCollection=[],this.service=new S(t),window.userContextInstance.externalUser$.pipe((e=function(t){return Boolean(t)},function(t){return t.lift(new v(e,void 0))})).subscribe((function(e){var n=e.isFetching,i=e.phone;n||r.isInited||(r.initialize(t.bannersCollection,i),r.isInited=!0)}))}return t.prototype.promoInit=function(t){"HWTop"===t&&setTimeout((function(){window.UI.Toggler.init()}),100)},t.prototype.initialize=function(t,e){var r=this;t&&t.length&&(this.collections.push(new _(t.filter((function(t){var e=t.bannerType,r=t.sspId;return"HN"===e&&r})))),this.collections.push(new _(t.filter((function(t){var e=t.bannerType,r=t.sspId;return"HN"!==e&&r})))),this.collections.forEach((function(t){r.initBannerCollection(t.Items,e)}),null))},t.prototype.initBannerCollection=function(t,e){var r=this;t.forEach((function(t,n){if("HWTop"!==t.bannerType||"1"!==sessionStorage.getItem("isSSPHWTopClosed")){var i=r.createRequestData(t.sspId,n,e);r.service.getBanner(i).always((function(e){if(!e||!e.length)return r.showDefaultsBanners(t.sspId),void r.promoInit(t.bannerType);var n=r.mapSspResponse(e),i=r.renderTemlpate(new w(n,t));document.getElementById(t.sspId).innerHTML=i,r.promoInit(t.bannerType)}))}}),null)},t.prototype.showDefaultsBanners=function(t){var e=document.getElementById(t);e&&(e.style.display="none");var r=document.getElementById("default_"+t);r&&(r.style.display="");var n=document.getElementById("default_"+t+"_mobile");n&&(n.style.display=""),window.bannerGtmEvents.checkGtmEvents()},t.prototype.createRequestData=function(t,e,r){var n={place_id:t,place_num:e,screen_color_depth:screen.colorDepth,screen_width:screen.width,screen_height:screen.height,user_agent:navigator.userAgent,language:navigator.language,local_time:(new Date).toUTCString()};return r&&(n.msisdn=Number("7"+r)),n},t.prototype.mapSspResponse=function(t){return t.map((function(t){return{Image:t.img,MobileImage:t.img_mob,Link:t.clk,Text:t.txt,Title:t.title,Label:t.label}}))},t.prototype.getTemplate=function(t){return this.templateCollection[t]||(this.templateCollection[t]=document.getElementById(t).innerHTML),this.templateCollection[t]},t.prototype.renderTemlpate=function(t){for(var e="",r=0;r<t.Banners.length;r++)switch(t.InputData.bannerType){case"HN":e+=n.render(this.getTemplate("HN"),t.Banners[r]);break;case"HW1":t.Banners[r].MobileImage||(t.Banners[r].MobileImage=t.Banners[r].Image),e+=n.render(this.getTemplate("HW1"),t.Banners[r]);break;case"HWTop":e+=n.render(this.getTemplate("HWTop"),t.Banners[r]),$("#"+t.InputData.sspId).on("click",".js-qa-adfox-hwtop-close",(function(t){return t.preventDefault(),sessionStorage.setItem("isSSPHWTopClosed","1"),!0}));break;case"VSide":case"VSideRight":t.Banners[r].AdditionalClasses="filters__bottom-block g-only-desktop g-only-small-desktop g-only-laptop",e+=this.renderVside(t.Banners[r]);break;case"VSideMobile":t.Banners[r].AdditionalClasses="g-only-device",e+=this.renderVside(t.Banners[r])}return e},t.prototype.renderVside=function(t){var e=t.Label?{Text:t.Label}:null;return n.render(this.getTemplate("VSide"),{banner:t,label:e})},t}();function T(t){new E(t)}r.d(e,"main",(function(){return T}))}]);